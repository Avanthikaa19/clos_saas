<app-side-nav></app-side-nav>
<div style="position: relative;">
<div>
    <!-------------------INITIAL CARD------------------------------>
  
                <div class="column-container">
                    <mat-icon class="mr-3 ml-4 m-3 circle_icon">money</mat-icon>
                    <span class="ml-4 user-contain m-3">Subscriptions and Billings ({{getCurrentUser()}})</span>
                </div>
          
  <!---------------------------TABLE------------------------------------>
  <div style="padding: 5px;width:100%;margin-top:1%;overflow: auto;" [style.height.px]="component_height - 162">
    <div>
      <span style="font-size: 14px;font-weight: bold;color:#0e2954;font-style: italic;float:right">Note : Free-trial plans cannot be viewed in subscriptions and billings.</span>
    </div>
    <table>
        <thead class="header">
          <tr>
              <th *ngFor="let list of userHeaders;let i=index" style="background-color: #0d203e;color:white;border:1px solid #ddd;position: relative;">{{list}}</th>
          </tr>
          </thead>
          <tr *ngFor="let list of invoice;let i=index">
              <td>{{list?.paid_date|date:'yyyy-MM-dd'}}</td>
              <td>#{{list?.id}}</td>
              <td>{{list?.due_date|date:'yyyy-MM-dd'}}</td>
              <td>{{list?.amount_paid}}</td>
              <td>
                <button class="btn">
                    <i class="fa fa-plus_square_o"></i>
                    <span> PAID</span>
                </button>
              </td>              
              <td (click)="downloadInvoice(list?.id)">
                <button class="btn"
                style="margin-top:0.4rem; margin-bottom: 0.4rem; margin-right: auto;display: flex;justify-content: center;"
                 >
                <mat-icon>download</mat-icon>
                <span>Download Invoice</span>
                </button>
              </td>
          </tr>
      </table>
      </div>
      <div style="margin-top: 2%;">
      <mat-paginator [length]="200" [pageSizeOptions]="[10, 50, 100]" [showFirstLastButtons]="true" aria-label="Select page">
    </mat-paginator>
  </div>
  <div class="loading-container" *ngIf="loading">
    <mat-progress-spinner color="primary" diameter="20" strokeWidth="2" mode="indeterminate"></mat-progress-spinner>
    <span>Loading... Please wait...</span>
</div>
<div class="placeholder-container" *ngIf="!loading && !invoice?.length">
    <span>No items found!</span>
</div>
  </div>