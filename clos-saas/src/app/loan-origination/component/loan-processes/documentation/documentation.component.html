<div class="no-access" *ngIf="!ac.super && !ac.items?.DOCUMENT_VIEW">
  <app-no-access></app-no-access>
</div> 
<section class="mt-3" style="margin-left: 10px;" *ngIf="ac.super || ac.items?.DOCUMENT_VIEW">
    <div class="row row-shadow">
        <div class="col-lg-12 p-4" style="background: white;border-top-right-radius: 10px;">
            <p class="mb-1" style="font-weight: 600;">Documentations</p>
            <div class="at-separator-thick"></div>
            <div class="row mt-2" style="overflow:auto;height:530px">
                <div class="col-lg-12">
                 <table>
                     <tr style="color:#6b6666;position: sticky;top: 0;">
                       <th *ngFor="let list of headers" [mat-sort-header]="list" [matSortDisabled]="list == 'View Attachments'||list == 'Upload'"
                       matSort (matSortChange)="sortAscDsc($event)">{{list}}</th>
                     </tr>
                     <tr *ngFor="let item of docList" (click)="document(item)">
                       <td style="color: #606266">{{item.documentName}}<span class="text-danger ml-1" *ngIf="item.required == 'Mandatory'">*</span></td>
                       <td style="color: #606266">{{item.documentType}}</td>
                       <td style="color: #606266">{{item.required}}</td>
                       <td style="color: #606266">{{item.documentStatus}}</td>
                       <td style="color: #606266">{{item.documentStatus}}</td>
                       <td style="color: #606266">{{item.dataCapture}}</td>
                       <td style="color: #606266">{{item.daysInStatus}}</td>
                       <td style="color: #606266">
                        <span class="material-symbols-outlined" (click)="previewFile(item)">
                          preview
                        </span>
                       </td>
                       <td style="color: #606266" ><mat-icon style="color: green" (click)="downloadFile(item)" 
                        [matTooltip]="'click here to download'">download</mat-icon></td>
                       <td>
                        <input type="file" (change)="fileClick($event)" />
                        <!-- <div>
                          Upload Percent: {{percentDone}}% 
                        </div> -->
                        <!-- <ng-container *ngIf="uploadSuccess">
                          Upload Successful
                        </ng-container> 
                         <span class="material-symbols-outlined" style="margin-right: 10px;color: blue;cursor: pointer;"
                         [matTooltip]="'click here to upload'">Upload</span> -->
                        </td>
                       <!-- <td><span class="material-symbols-outlined" style="margin-right: 10px;color: red;cursor: pointer;"
                         [matTooltip]="'click here to delete'">Delete</span></td> -->
                  </tr>
                  <!-- Demo Purpose -->
                  <!-- <tr>
                    <td style="color: #606266">Company Profile<span style="color:red">*</span></td>
                    <td style="color: #606266">Company</td>
                    <td style="color: #606266">Mandatory</td>
                    <td style="color: #606266">Completed</td>
                    <td style="color: #606266">Completed</td>
                    <td style="color: #606266">Captured</td>
                    <td style="color: #606266">4</td>
                    <td style="color: #606266">
                      <span class="material-symbols-outlined">
                        preview
                      </span>
                     </td>
                    <td style="color: #606266" ><mat-icon style="color: green" 
                      [matTooltip]="'click here to download'">download</mat-icon></td>
                    <td><input type="file" (change)="fileClick($event)" /></td>
                  </tr>
                  <tr>
                    <td style="color: #606266">Lease contract</td>
                    <td style="color: #606266">Financial</td>
                    <td style="color: #606266">Optional</td>
                    <td style="color: #606266">Completed</td>
                    <td style="color: #606266">Completed</td>
                    <td style="color: #606266">Captured</td>
                    <td style="color: #606266">4</td>
                    <td style="color: #606266">
                      <span class="material-symbols-outlined">
                        preview
                      </span>
                     </td>
                    <td style="color: #606266" ><mat-icon style="color: green" 
                      [matTooltip]="'click here to download'">download</mat-icon></td>
                    <td><input type="file" (change)="fileClick($event)" /></td>
                  </tr>
                  <tr>
                    <td style="color: #606266">Owner/Director Id <span style="color:red">*</span></td>
                    <td style="color: #606266">Owner</td>
                    <td style="color: #606266">Mandatory</td>
                    <td style="color: #606266">Completed</td>
                    <td style="color: #606266">Completed</td>
                    <td style="color: #606266">Captured</td>
                    <td style="color: #606266">4</td>
                    <td style="color: #606266">
                      <span class="material-symbols-outlined">
                        preview
                      </span>
                     </td>
                    <td style="color: #606266" ><mat-icon style="color: green" 
                      [matTooltip]="'click here to download'">download</mat-icon></td>
                    <td><input type="file" (change)="fileClick($event)" /></td>
                  </tr>
                  <tr>
                    <td style="color: #606266">Contract</td>
                    <td style="color: #606266">Financial</td>
                    <td style="color: #606266">Mandatory</td>
                    <td style="color: #606266">Completed</td>
                    <td style="color: #606266">Completed</td>
                    <td style="color: #606266">Captured</td>
                    <td style="color: #606266">4</td>
                    <td style="color: #606266">
                      <span class="material-symbols-outlined">
                        preview
                      </span>
                     </td>
                    <td style="color: #606266" ><mat-icon style="color: green" 
                      [matTooltip]="'click here to download'">download</mat-icon></td>
                    <td><input type="file" (change)="fileClick($event)" /></td>
                  </tr>
                  <tr>
                    <td style="color: #606266">Professional License</td>
                    <td style="color: #606266">Company</td>
                    <td style="color: #606266">Optional</td>
                    <td style="color: #606266">Completed</td>
                    <td style="color: #606266">Completed</td>
                    <td style="color: #606266">Captured</td>
                    <td style="color: #606266">4</td>
                    <td style="color: #606266">
                      <span class="material-symbols-outlined">
                        preview
                      </span>
                     </td>
                    <td style="color: #606266" ><mat-icon style="color: green" 
                      [matTooltip]="'click here to download'">download</mat-icon></td>
                    <td><input type="file" (change)="fileClick($event)" /></td>
                  </tr> -->
                   </table>
                   <ng-container *ngIf="!loadingDocs && docList.length==0">
                    <p class="no-content  text-secondary" style="position: absolute;margin-top: 250px;margin-left: 550px;font-size: 21px;font-weight: bolder;letter-spacing: 1px">No items found!</p>
                  </ng-container>
                  <div *ngIf="loadingDocs" class="loading-spinner">
                    <mat-progress-spinner [diameter]="24" [strokeWidth]="2" mode="indeterminate"></mat-progress-spinner>
                    <span>Loading.. Please wait..</span>
                  </div>
             </div>
            </div>
            <!-- Demo Purpose -->
            <div class="paginator-container" >
              <mat-paginator [length]="count" [pageIndex]="pageNo" [pageSize]="pageSize" [pageSizeOptions]="[5, 10, 25, 100]"
                aria-label="Select page" (page)="documents($event)">
              </mat-paginator>
            </div>
            <mat-error>Please upload all mandatory fields marked with an asterisk (*)</mat-error>
            <div style="float:left">
              <button mat-button class="go-back-btn" style="margin-top: 30px;color:white;background:blue"
                  [routerLink]="'/loan-org/loan/main-app-list/loan-processes/process/2'">
                  <span class="material-symbols-outlined" style="margin-right: 10px;font-size: 12px;">
                      arrow_back_ios_new
                  </span>Go Back to Full Data</button>
          </div>
            <div class="d-flex" style="margin-top: 15px;float: right;">
                <button mat-button class="save-btn" (click)="submit()" style="margin-top: 15px;color:white;background:blue">
                  <span class="material-symbols-outlined" style="margin-right: 10px;">
                  save
                  </span>Submit</button>
            </div>
        </div>
    </div>
</section>