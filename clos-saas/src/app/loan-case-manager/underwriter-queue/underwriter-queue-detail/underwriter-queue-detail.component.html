<div class="main-container">
    <div class="side-nav">
        <div class="side-nav-inner">
            <button mat-stroked-button onclick="history.back()" style="background:blue;color:white">
                <mat-icon>keyboard_arrow_left</mat-icon>
                <span>
                    Go back to Previous
                </span>
            </button>
            <div class="info-header">
                General Information
            </div>
            <ng-container *ngFor="let sectionContent of sectionData">
                <div class="section-content" style="margin-bottom: 1.5rem">
                    <ng-continer *ngIf="sectionContent.fieldName">
                        <div class="field-name">
                            {{sectionContent.fieldName}} :
                        </div>
                        <div style="height: 1px"></div>
                    </ng-continer>
                    <ng-container *ngIf="sectionContent.inputType">
                        <div class="input-type" *ngIf="sectionContent.inputType =='InputField'">
                            <input class="min-input" [(ngModel)]="sectionContent.inputValue"
                                placeholder="{{sectionContent.placeholder}}">
                        </div>
                        <div class="input-type" *ngIf="sectionContent.inputType =='CommentBox'">
                            <textarea style=" height: 35%" [(ngModel)]="sectionContent.inputValue">
                            </textarea>
                        </div>
                        <div class="input-type" *ngIf="sectionContent.inputType =='SelectOption'">
                            <mat-select class="min-select" [(ngModel)]="sectionContent.inputValue">
                                <mat-option *ngFor="let option of sectionContent.selectOption" [value]="option">
                                    {{option}}
                                </mat-option>
                            </mat-select>
                        </div>
                        <div class="input-type" *ngIf="sectionContent.inputType =='Radio'">
                            <mat-radio-group aria-label="Select an option" [(ngModel)]="sectionContent.inputValue"
                                style="margin-left: 2rem; padding-top: 2rem">
                                <mat-radio-button style="font-size: 16px"
                                    *ngFor="let option of sectionContent.radioOption" [value]="option">{{option}}
                                </mat-radio-button>
                            </mat-radio-group>
                        </div>
                        <div class="input-type" *ngIf="sectionContent.inputType =='Number'">
                            <input [(ngModel)]="sectionContent.inputValue" type="number">
                        </div>
                        <div class="input-type" *ngIf="sectionContent.inputType =='Date'">
                            <input [(ngModel)]="sectionContent.inputValue" type="date">
                        </div>
                        <div class="input-type" *ngIf="sectionContent.inputType =='Checkbox'">
                            <mat-checkbox class="example-margin">Check</mat-checkbox>
                        </div>
                        <div class="input-type" *ngIf="sectionContent.inputType =='MultiSelect'">
                            <mat-select class="min-select" [(ngModel)]="sectionContent.inputValue" multiple>
                                <mat-option *ngFor="let option of sectionContent.selectOption" [value]="option">
                                    {{option}}
                                </mat-option>
                            </mat-select>
                        </div>
                    </ng-container>
                </div>
            </ng-container>
            <div class="info-header">
                Assessment
            </div>
            <ng-container *ngFor="let sectionContent of assessmentData">
                <div class="section-content" style="margin-bottom: 1.5rem">
                    <ng-continer *ngIf="sectionContent.fieldName">
                        <div class="field-name">
                            {{sectionContent.fieldName}} :
                        </div>
                        <div style="height: 1px"></div>
                    </ng-continer>
                    <ng-container *ngIf="sectionContent.inputType">
                        <div class="input-type" *ngIf="sectionContent.inputType =='InputField'">
                            <input class="min-input" [(ngModel)]="sectionContent.inputValue"
                                placeholder="{{sectionContent.placeholder}}">
                        </div>
                        <div class="input-type" *ngIf="sectionContent.inputType =='CommentBox'">
                            <textarea style=" height: 35%" [(ngModel)]="sectionContent.inputValue">
                        </textarea>
                        </div>
                        <div class="input-type" *ngIf="sectionContent.inputType =='SelectOption'">
                            <mat-select class="min-select" [(ngModel)]="sectionContent.inputValue">
                                <mat-option *ngFor="let option of sectionContent.selectOption" [value]="option">
                                    {{option}}
                                </mat-option>
                            </mat-select>
                        </div>
                        <div class="input-type" *ngIf="sectionContent.inputType =='Radio'">
                            <mat-radio-group aria-label="Select an option" [(ngModel)]="sectionContent.inputValue"
                                style="margin-left: 2rem; padding-top: 2rem">
                                <mat-radio-button style="font-size: 16px"
                                    *ngFor="let option of sectionContent.radioOption" [value]="option">{{option}}
                                </mat-radio-button>
                            </mat-radio-group>
                        </div>
                        <div class="input-type" *ngIf="sectionContent.inputType =='Number'">
                            <input [(ngModel)]="sectionContent.inputValue" type="number">
                        </div>
                        <div class="input-type" *ngIf="sectionContent.inputType =='Date'">
                            <input [(ngModel)]="sectionContent.inputValue" type="date">
                        </div>
                        <div class="input-type" *ngIf="sectionContent.inputType =='Checkbox'">
                            <mat-checkbox class="example-margin">Check</mat-checkbox>
                        </div>
                        <div class="input-type" *ngIf="sectionContent.inputType =='MultiSelect'">
                            <mat-select class="min-select" [(ngModel)]="sectionContent.inputValue" multiple>
                                <mat-option *ngFor="let option of sectionContent.selectOption" [value]="option">
                                    {{option}}
                                </mat-option>
                            </mat-select>
                        </div>
                    </ng-container>
                </div>
            </ng-container>
        </div>
    </div>
    <div class="main-nav">
        <mat-tab-group>
            <mat-tab label="Evaluation">
                <div class="evaluation">
                    <div class="card-container">
                        <div class="card-area">
                            <div class="card">
                                <div class="card-header">
                                    Score
                                </div>
                                <div class="card-content">
                                    <div class="icon">
                                        <!-- <mat-icon>assessment</mat-icon> -->
                                    </div>
                                    <div class="cnt" style="color: blue; font-size: 30px">
                                        465
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="card-area">
                            <div class="card">
                                <div class="card-header">
                                   Bureau Score
                                </div>
                                <div class="card-content">
                                    <div class="icon">
                                        <!-- <mat-icon> score</mat-icon> -->
                                    </div>
                                    <div class="cnt" style="color: blue; font-size: 30px">
                                        800
                                    </div>
                                </div>
                            </div>
                          
                        </div>
                        <div class="card-area">
                            <div class="card">
                                <div class="card-header">
                                    System Decision
                                </div>
                                <div class="card-content" style="background-color:green">
                                    <div class="icon">
                                        <!-- <mat-icon>done_outline</mat-icon> -->
                                    </div>
                                    <div class="cnt" style="color: white; font-size: 30px">
                                        Accept
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="section-container">
                        <div class="section-header">
                            <div class="section-name">
                                System generated deviations
                            </div>
                        </div>
                        <div class="deviation-container">
                            <ng-container *ngFor="let devi of systemDeviation">
                                <div class="deviation-card">
                                    {{devi}}
                                </div>
                            </ng-container>

                        </div>
                    </div>
                    <div class="document-container">
                        <div class="section-header">
                            <div class="section-name">
                                Documents
                            </div>
                        </div>
                        <div class="table-container">
                            <app-data-table [tableData]="items" [columns]="columns" [pageData]="pageData" >
                                
                            </app-data-table>
                        </div>
                    </div>
                </div>
            </mat-tab>
            <mat-tab label="Decision">
                <div class="decision">
                    <!-- Credit Decision -->
                    <div>
                        <p style="margin-left: 20px">Credit Decision</p>
                        <mat-select [(ngModel)]="creditValue" 
                            style="background:#fafafa;width:25%;margin-left: 20px;height: 35px;padding: 0.5rem 1rem;
                            border-radius: 0.4rem;
                            border: solid rgb(230, 230, 230) 0.1rem;
                            background-color: rgb(250, 250, 250);
                            box-shadow: 0 0.2rem 0.4rem rgb(0 0 0 / 10%) inset;
                            transition: all linear 70ms;
                            outline: solid transparent 0.2rem;">
                            <mat-option [value]="'Accept'">Accept</mat-option>
                            <mat-option [value]="'Additional Request'">Additional Request</mat-option>
                            <mat-option [value]="'Esclate'">Esclate</mat-option>
                            <mat-option [value]="'Reject'">Reject</mat-option>
                        </mat-select>
                    </div>
                    <div>
                        <p style="margin-left: 20px">Loan Amount</p>
                        <input type="text" style="margin-left: 20px;width:25%" [(ngModel)]="amount">
                    </div>
                    <div class="add-section">
                        <button class="tl-btn-submit" (click)="addSection()">
                            <mat-icon>add</mat-icon>
                            <span>Add Section</span>
                        </button>
                    </div>

                    <ng-container *ngFor="let sectionData of sectionDetails">
                        <div class="section-container">
                            <div class="section-header">
                                <div class="section-name">
                                    {{sectionData.sectionName}}
                                </div>
                            </div>
                
                            <div class="field">
                                <button mat-icon-button color="warn" class="min-button" (click)="addField(sectionData)">
                                    <mat-icon style="font-size: 14px;">add</mat-icon>
                                </button>
                            </div>

                            <ng-container *ngFor="let sectionContent of sectionData.sectionChildren; let i = index">
                                <div class="section-content">
                                    <ng-continer
                                        *ngIf="sectionContent.fieldName && sectionContent.inputType !='Checkbox' && sectionContent.inputType !='Header'">
                                        <div class="field-name">
                                            {{sectionContent.fieldName}} :
                                            <button mat-icon-button color="warn" class="min-button"
                                                (click)="removeField(sectionData,i)">
                                                <mat-icon style="font-size: 14px;">remove</mat-icon>
                                            </button>
                                        </div>
                                    </ng-continer>
                                    <ng-container *ngIf="sectionContent.inputType">
                                        <div class="input-type" *ngIf="sectionContent.inputType =='InputField'">
                                            <input style="width: 25%" [(ngModel)]="sectionContent.inputValue"
                                                placeholder="{{sectionContent.placeholder}}">
                                        </div>
                                        <div class="input-type" *ngIf="sectionContent.inputType =='Header'">
                                            <b>{{sectionContent.fieldName}} :</b>
                                        </div>
                                        <div class="input-type" *ngIf="sectionContent.inputType =='CommentBox'">
                                            <textarea style="width: 45%; height: 35%"
                                                [(ngModel)]="sectionContent.inputValue">
                                        </textarea>
                                        </div>
                                        <div class="input-type" *ngIf="sectionContent.inputType =='SelectOption'">
                                            <mat-select class="min-select" style="width: 25%"
                                                [(ngModel)]="sectionContent.inputValue">
                                                <mat-option *ngFor="let option of sectionContent.selectOption"
                                                    [value]="option">
                                                    {{option}}
                                                </mat-option>
                                            </mat-select>
                                        </div>
                                        <div class="input-type" *ngIf="sectionContent.inputType =='Radio'">
                                            <mat-radio-group aria-label="Select an option"
                                                [(ngModel)]="sectionContent.inputValue"
                                                style="margin-left: 2rem; padding-top: 2rem">
                                                <mat-radio-button style="font-size: 16px"
                                                    *ngFor="let option of sectionContent.radioOption" [value]="option">
                                                    {{option}}
                                                </mat-radio-button>
                                            </mat-radio-group>
                                        </div>
                                        <div class="input-type" *ngIf="sectionContent.inputType =='Number'">
                                            <input style="width: 15%" [(ngModel)]="sectionContent.inputValue"
                                                type="number">
                                        </div>
                                        <div class="input-type" *ngIf="sectionContent.inputType =='Date'">
                                            <input style="width: 15%" [(ngModel)]="sectionContent.inputValue"
                                                type="date">
                                        </div>
                                        <div class="input-type" *ngIf="sectionContent.inputType =='Checkbox'">
                                            <mat-checkbox class="example-margin">{{sectionContent.fieldName}}
                                            </mat-checkbox>
                                        </div>
                                        <div class="input-type" *ngIf="sectionContent.inputType =='MultiSelect'">
                                            <mat-select class="min-select" style="width: 25%"
                                                [(ngModel)]="sectionContent.inputValue" multiple>
                                                <mat-option *ngFor="let option of sectionContent.selectOption"
                                                    [value]="option">
                                                    {{option}}
                                                </mat-option>
                                            </mat-select>
                                        </div>
                                    </ng-container>
                                </div>
                            </ng-container>
                        </div>
                    </ng-container>
                </div>
                <div style="margin: 1rem; float: right">
                    <button class="tl-btn-submit" (click)="getcreditDecision();closeWindow()">
                        <mat-icon>save</mat-icon>
                        <span>Submit & Close</span>
                    </button>
                </div>
            </mat-tab>
        </mat-tab-group>
    </div>
</div>